<h1 class="page-title">Correias do Equipamento</h1>

<div class="card">

    <h2 style="margin-bottom: 10px;"><%= equipamento.nome %></h2>
    <p><strong>Código:</strong> <%= equipamento.codigo %></p>
    <p><strong>Local:</strong> <%= equipamento.local %></p>

    <hr style="margin:20px 0;">

    <form method="POST" action="/equipamentos/<%= equipamento.id %>/correias" class="form-card">

        <h3>Correias Instaladas</h3>

        <div class="correias-list">

            <% correias.forEach(c => { %>

                <div class="correia-item">

                    <label class="check-line">

                        <input type="checkbox"
                               name="correia"
                               value="<%= c.id %>"
                               <%= mapLigados[c.id] ? "checked" : "" %> >

                        <span><strong><%= c.nome %></strong> — <%= c.modelo || "-" %></span>

                    </label>

                    <input type="number"
                           min="1"
                           name="qtd_<%= c.id %>"
                           value="<%= mapLigados[c.id] || 1 %>"
                           class="qtd-input">

                </div>

            <% }) %>

        </div>

        <button class="btn-primary" style="margin-top:20px;">
            <i class="fa-solid fa-save"></i> Salvar
        </button>

    </form>

    <div class="actions" style="margin-top:25px;">
        <a href="/equipamentos/<%= equipamento.id %>" class="btn-secondary">
            <i class="fa-solid fa-arrow-left"></i> Voltar
        </a>
    </div>

</div>

<style>
    .correias-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }
    .correia-item {
        background: #f7f7f7;
        border-radius: 10px;
        padding: 12px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .check-line {
        display: flex;
        gap: 8px;
        align-items: center;
    }
    .qtd-input {
        width: 70px;
        padding: 6px;
        border-radius: 6px;
        border: 1px solid #ccc;
    }
</style>
